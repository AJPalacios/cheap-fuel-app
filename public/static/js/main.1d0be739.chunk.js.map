{"version":3,"sources":["components/auth/Login.js","components/auth/SignUp.js","components/Home.js","components/Nav.js","components/Map.js","components/UserMenu.js","components/auth/Profile.js","components/Consumos.js","Routes.js","App.js","serviceWorker.js","index.js"],"names":["login_url","Login","state","auth","loading","login","e","preventDefault","_this","setState","axios","post","then","res","console","log","toastr","success","localStorage","setItem","JSON","stringify","data","user","token","props","history","push","catch","error","onChange","field","target","name","value","this","react_default","a","createElement","className","Form","onSubmit","Field","Input","label","type","placeholder","Button","Component","SignUp","signup","username","email","password","password2","createUser","_this$state","Home","href","NavBar","handleItemClick","_ref","activeItem","logOut","removeItem","Menu","stackable","Item","src","active","onClick","Link","to","withRouter","mapboxgl","accessToken","MapComponent","parse","getItem","drawMap","navigator","geolocation","getCurrentPosition","pos","map","Map","container","zoom","center","coords","longitude","latitude","style","Marker","setLngLat","addTo","addControl","NavigationControl","MapboxDirections","popup","Popup","closeButton","closeOnClick","on","feature","queryRenderedFeatures","point","layers","properties","address_street","getCanvas","cursor","coordinates","geometry","slice","description","address","Math","abs","lngLat","lng","template","concat","setHTML","remove","msg","alert","maximumAge","timeout","enableHighAccuracy","Nav","id","UserMenu","Group","widths","Profile","components_UserMenu","Consumo","React","Routes","Switch","Route","exact","path","component","Consumos","App","src_Routes","Boolean","window","location","hostname","match","ReactDOM","render","BrowserRouter","src_App_0","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1d0be739.chunk.js","sourcesContent":["import React,{Component} from 'react'\r\nimport { Button, Input, Form } from 'semantic-ui-react'\r\nimport axios from 'axios'\r\nimport toastr from 'toastr'\r\n\r\nconst login_url = 'https://final-project3.herokuapp.com/login'\r\n\r\nclass Login extends Component {\r\n\r\n  state = {\r\n    auth:{},\r\n    loading: false\r\n  }\r\n\r\n  login = (e)=>{\r\n    e.preventDefault()\r\n    this.setState({loading:true})\r\n    const {auth} = this.state\r\n    axios.post(login_url,auth)\r\n    .then(res=>{\r\n      console.log(res)\r\n      toastr.success('Iniciaste sesión correctamente')\r\n      localStorage.setItem('my-fuel-user', JSON.stringify(res.data.user))\r\n      localStorage.setItem('token', res.data.token)\r\n      this.setState({loading:false})\r\n      const profile = this.props.history\r\n      profile.push('/profile')\r\n    })\r\n    .catch(e=>{\r\n      toastr.error('email o contraeña incorrectos')\r\n      this.setState({loading:false})\r\n    })\r\n  }\r\n\r\n  onChange = (e)=>{\r\n    const field = e.target.name\r\n    const value = e.target.value\r\n    const {auth} = this.state\r\n    auth[field] = value\r\n    this.setState({auth}) \r\n  }\r\n\r\n  render(){\r\n\r\n    const {loading} = this.state\r\n\r\n    return(\r\n      \r\n      <div className='App'>\r\n        <header className='App-header'>\r\n          <h1>Iniciar Sesión</h1>\r\n          <Form onSubmit={this.login}>\r\n            <Form.Field>\r\n              <Input\r\n                name='email'\r\n                label= 'Email'\r\n                type='email'\r\n                onChange={this.onChange}\r\n                placeholder='Email'\r\n              />\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <Input\r\n                name='password'\r\n                label= 'Password'\r\n                type='password'\r\n                onChange={this.onChange}\r\n                placeholder='Password'\r\n              />\r\n            </Form.Field>\r\n            <Button loading={loading} className='huge ui button' type='submit'>Inciar Sesión</Button>\r\n          </Form>\r\n        </header>\r\n      </div>\r\n\r\n    );\r\n  }\r\n\r\n\r\n\r\n} \r\n\r\nexport default Login\r\n","import React, { Component } from 'react'\r\n\r\nimport { Button, Form, Input} from 'semantic-ui-react'\r\n\r\nimport axios from 'axios'\r\nimport toastr from 'toastr'\r\n\r\n\r\nclass SignUp extends Component{\r\n\r\n  \r\n\r\n  state = {\r\n    signup:{\r\n      username:'new username',\r\n      name:'your name',\r\n      email:'your email',\r\n      password:'your password',\r\n      password2:'confirm password'\r\n    },\r\n    loading: false\r\n  }\r\n\r\n  onChange = (e)=>{\r\n    const field = e.target.name\r\n    const value = e.target.value\r\n    const {signup} = this.state\r\n    signup[field] = value\r\n    this.setState({signup})\r\n  }\r\n\r\n  createUser = (e)=>{\r\n\r\n    const url = 'https://final-project3.herokuapp.com/signup'\r\n\r\n    e.preventDefault()\r\n    const {signup} = this.state\r\n    if(signup.password !== signup.password2){\r\n      return toastr.error('Las contraseñas no coinciden')\r\n    }\r\n    \r\n    axios.post(url, signup)\r\n    .then(user=>{\r\n      console.log(user)\r\n      toastr.success('Registrado correctamente')\r\n    })\r\n    .catch(e=>{\r\n      console.log(e)\r\n      toastr.error('Error al registrarte')\r\n    })\r\n\r\n\r\n  }\r\n\r\n  render(){\r\n    const {signup ,loading} = this.state\r\n    return(\r\n\r\n      <div className='App'>\r\n      <header className='App-header'>\r\n        <h1>Crear Cuenta</h1>\r\n        <Form onSubmit={this.createUser}>\r\n          <Form.Field>\r\n            <Input \r\n              name='username'\r\n              label='Username'\r\n              placeholder='@Username'\r\n              type='Text'\r\n              onChange={this.onChange}\r\n              value={signup.username}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <Input\r\n              name='name'\r\n              label='Nombre'\r\n              placeholder='john'\r\n              type='Text'\r\n              onChange={this.onChange}\r\n              value={signup.name}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <Input\r\n              name='email' \r\n              label='Email'\r\n              placeholder='user@mail.com'\r\n              type='email'\r\n              onChange={this.onChange}\r\n              value={signup.email}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <Input\r\n              name='password' \r\n              label='Password'\r\n              placeholder='*********'\r\n              type='password'\r\n              onChange={this.onChange}\r\n              value={signup.password}\r\n            />\r\n          </Form.Field>\r\n          <Form.Field>\r\n            <Input\r\n              name='password2' \r\n              label='Confirma tu password'\r\n              placeholder='*********'\r\n              type='password'\r\n              onChange={this.onChange}\r\n              value={signup.password2}\r\n            />\r\n          </Form.Field>\r\n          <Button loading={loading} className='huge ui button' type='submit'>Crear Cuenta</Button>\r\n        </Form>\r\n      </header>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default SignUp","import React, {Component} from 'react'\r\n\r\n\r\nclass Home extends Component{\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <h1>Este es mi cover page de inicio</h1>\r\n          <a href='/login' className='ui green button'>Iniciar Sesión</a>\r\n          <a href='/signup' className='ui blue button'>Crear Cuenta</a>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Home","import React,{Component} from 'react'\r\nimport {withRouter,Link} from 'react-router-dom'\r\nimport {Menu} from 'semantic-ui-react'\r\nimport { runInThisContext } from 'vm';\r\n\r\nclass NavBar extends Component{\r\n\r\n  state={}\r\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name })\r\n\r\n  logOut = (e)=>{\r\n    e.preventDefault()\r\n    localStorage.removeItem('my-fuel-user')\r\n    return this.props.history.push('/login')\r\n    \r\n  }\r\n\r\n  render(){\r\n    const { activeItem } = this.state\r\n    return(\r\n      <div>\r\n      <Menu stackable>\r\n        <Menu.Item>\r\n          <img src='https://react.semantic-ui.com/logo.png'/>\r\n        </Menu.Item>\r\n        <Menu.Item\r\n          name='mis consumos'\r\n          active={activeItem === 'mis consumos'}\r\n          onClick={this.handleItemClick}\r\n        >\r\n          <Link to='/mis-consumos'>Mis Consumos</Link>\r\n        </Menu.Item>\r\n        <Menu.Item\r\n          name='log-out'\r\n          active={activeItem === 'log-out'}\r\n          onClick={this.logOut}\r\n        >\r\n          Cerrar Sesión\r\n        </Menu.Item>\r\n      </Menu>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default withRouter(NavBar)","import React, { Component } from 'react'\r\nimport mapboxgl from 'mapbox-gl'\r\n\r\nimport NavBar from './Nav'\r\n\r\nimport MapboxDirections from '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.js'\r\n\r\nmapboxgl.accessToken = \"pk.eyJ1IjoiYWRuY29kZSIsImEiOiJjam16bHJiYzEwMjI5M3Btemh5d2N3NHkyIn0.eqcpU52HvvJ8YxgGz55dpA\"\r\n\r\nclass MapComponent extends Component{\r\n\r\n  \r\n  state={\r\n    user:{}\r\n  }\r\n\r\n  componentWillMount(){\r\n    const user = JSON.parse(localStorage.getItem('my-fuel-user'))\r\n    if(!user) return this.props.history.push('/login')\r\n    this.setState({user})\r\n    this.drawMap()\r\n  }\r\n\r\n  drawMap(){\r\n\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((pos)=>{\r\n\r\n        let map = new mapboxgl.Map({\r\n          container: 'map',\r\n          zoom:15,\r\n          center: [pos.coords.longitude,pos.coords.latitude],\r\n          style: 'mapbox://styles/adncode/cjn7kawvq24wx2smn41yav5vs'\r\n        })\r\n\r\n        var marker = new mapboxgl.Marker()\r\n\t      .setLngLat([pos.coords.longitude,pos.coords.latitude])\r\n\t      .addTo(map)\r\n\r\n\r\n\r\n\r\n      map.addControl(new mapboxgl.NavigationControl())\r\n      map.addControl(new MapboxDirections({\r\n        accessToken: mapboxgl.accessToken\r\n      }),'top-left')\r\n      \r\n      var popup = new mapboxgl.Popup({\r\n        closeButton: false,\r\n        closeOnClick: false\r\n    });\r\n\r\n      map.on('mouseenter','gas-layer',(e)=>{\r\n        let features = map.queryRenderedFeatures(e.point,{\r\n          layers: ['gas-layer']\r\n        })\r\n\r\n        var feature = features[0]\r\n        console.log(feature.properties.address_street)\r\n\r\n        map.getCanvas().style.cursor = 'pointer'\r\n        var coordinates = feature.geometry.coordinates.slice()\r\n        var description = feature.properties.name\r\n        var address = feature.properties.address_street\r\n\r\n        \r\n\r\n        console.log(coordinates, description)\r\n\r\n        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\r\n          coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\r\n        }\r\n\r\n        let template = `<h3>${description}</h3> <br>\r\n                        <p>${address}</p><br>`\r\n\r\n        popup.setLngLat(coordinates)\r\n            .setHTML(template)\r\n            .addTo(map);\r\n\r\n      })\r\n      map.on('mouseleave', 'gas-layer', function() {\r\n        map.getCanvas().style.cursor = '';\r\n        popup.remove();\r\n    });\r\n\r\n   /* map.on('click', (e)=>{\r\n    \r\n      let features = map.queryRenderedFeatures(e.point,{\r\n        layers: ['gas-layer']\r\n      })\r\n    \r\n      \r\n    var feature = features[0]\r\n    \r\n    var popup = new mapboxgl.Popup({offset: [0,-15]})\r\n      .setLngLat(feature.geometry.coordinates)\r\n      .setHTML('<h3>' + feature.properties.name + '</h1><p>'+feature.properties.address_street+'</p>')\r\n      .setLngLat(feature.geometry.coordinates)\r\n      .addTo(map)\r\n    })*/\r\n\r\n      // fin del current position \r\n      },(msg)=>{alert('Please enable your gps position')},{maximumAge:600000, timeout:5000,enableHighAccuracy: true})\r\n    }\r\n  }\r\n  \r\n\r\n  render(){\r\n    return(\r\n        <div>\r\n          <NavBar/>\r\n          <div className='Map' id=\"map\"></div>\r\n        </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MapComponent","import React, {Component} from 'react'\r\nimport {Button} from 'semantic-ui-react'\r\n\r\nclass UserMenu extends Component{\r\n\r\n  render(){\r\n    return(\r\n      \r\n      <section className='User-actions'>\r\n\r\n        <Button.Group widths='3'>\r\n          <Button>Trazar Ruta</Button>\r\n          <Button>Registrar Consumo</Button>\r\n          <Button>Boton Ahorrador</Button>\r\n        </Button.Group>\r\n\r\n      </section>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default UserMenu","import React, {Component} from 'react'\r\n\r\nimport Map from '../Map'\r\nimport UserMenu from '../UserMenu'\r\nclass Profile extends Component{\r\n\r\n\r\n  state={\r\n    user:{}\r\n  }\r\n\r\n  componentWillMount(){\r\n    const user = JSON.parse(localStorage.getItem('my-fuel-user'))\r\n    if(!user) return this.props.history.push('/login')\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <Map ></Map>\r\n        <UserMenu></UserMenu>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default Profile","import React from 'react'\r\nimport NavBar from './Nav'\r\n\r\nclass Consumo extends React.Component{\r\n\r\n  state={\r\n    user:{}\r\n  }\r\n\r\n  componentWillMount(){\r\n    const user = JSON.parse(localStorage.getItem('my-fuel-user'))\r\n    if(!user) return this.props.history.push('/login')\r\n    this.setState({user})\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <NavBar/>\r\n        <h1>Componente para consumos</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default Consumo","import React from 'react'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport Login from './components/auth/Login'\r\nimport SignUp from './components/auth/SignUp'\r\nimport Home from './components/Home'\r\nimport Profile from './components/auth/Profile'\r\nimport Consumos from './components/Consumos'\r\nconst Routes = ()=>{\r\n  return (\r\n    <Switch>\r\n      <Route exact path='/' component={Home}></Route>\r\n      <Route path='/signup' component={SignUp}></Route>\r\n      <Route path='/login' component={Login}></Route>\r\n      <Route path='/profile' component={Profile}></Route>\r\n      <Route path='/mis-consumos' component={Consumos}></Route>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Routes","import React, { Component } from 'react';\n\nimport './App.css';\n\nimport Routes from './Routes'\n\nclass App extends Component {\n  render() {\n    return (\n      <Routes></Routes>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'toastr/build/toastr.min.css'\nimport 'semantic-ui-css/semantic.min.css'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css'\n// Router\n\nimport {BrowserRouter, withRouter} from 'react-router-dom'\n\nconst WithRouter = () =><BrowserRouter><App></App></BrowserRouter>\n\nReactDOM.render( <WithRouter/> , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}